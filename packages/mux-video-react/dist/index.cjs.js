"use strict";var S=Object.create;var u=Object.defineProperty;var j=Object.getOwnPropertyDescriptor;var w=Object.getOwnPropertyNames;var H=Object.getPrototypeOf,I=Object.prototype.hasOwnProperty;var N=(e,t)=>{for(var o in t)u(e,o,{get:t[o],enumerable:!0})},P=(e,t,o,f)=>{if(t&&typeof t=="object"||typeof t=="function")for(let c of w(t))!I.call(e,c)&&c!==o&&u(e,c,{get:()=>t[c],enumerable:!(f=j(t,c))||f.enumerable});return e};var g=(e,t,o)=>(o=e!=null?S(H(e)):{},P(t||!e||!e.__esModule?u(o,"default",{value:e,enumerable:!0}):o,e)),h=e=>P(u({},"__esModule",{value:!0}),e);var _={};N(_,{default:()=>W});module.exports=h(_);var l=require("react"),v=(...e)=>{let t=(0,l.useRef)(null);return(0,l.useEffect)(()=>{e.forEach(o=>{!o||(typeof o=="function"?o(t.current):o.current=t.current)})},[e]),t};var r=g(require("react")),a=g(require("prop-types")),n=require("@mux/playback-core");var A=()=>{try{return"0.7.2"}catch{}return"UNKNOWN"},D=A(),x=()=>D;var K=x(),U="mux-video-react",C=r.default.forwardRef((e,t)=>{var M;let{envKey:o,debug:f,beaconCollectionDomain:c,playbackId:p,preferPlayback:z,type:B,streamType:Q,startTime:Y,src:y,children:E,autoPlay:d,preload:m,videoQuality:T=2,...O}=e,[V]=(0,r.useState)((0,n.generatePlayerInitTime)()),[R,k]=(0,r.useState)((M=(0,n.toMuxVideoURL)(p))!=null?M:y),s=(0,r.useRef)(void 0),L=(0,r.useRef)(null),b=v(L,t);return(0,r.useEffect)(()=>{var i;k((i=(0,n.toMuxVideoURL)(p))!=null?i:y)},[y,p]),(0,r.useEffect)(()=>{s&&s.current&&s.current.engine&&s.current.engine.currentLevel&&(s.current.engine.currentLevel=T)},[T]),(0,r.useEffect)(()=>{let i={...e,src:R,playerInitTime:V,playerSoftwareName:U,playerSoftwareVersion:K,autoplay:d};b.current&&(s.current=(0,n.initialize)(i,b.current,s.current))},[R]),(0,r.useEffect)(()=>{var i;(i=s.current)==null||i.setAutoplay(d)},[d]),(0,r.useEffect)(()=>{var i;(i=s.current)==null||i.setPreload(m)},[m]),r.default.createElement("video",{ref:b,...O},E)});C.propTypes={envKey:a.default.string,debug:a.default.bool,disableCookies:a.default.bool,metadata:a.default.any,beaconCollectionDomain:a.default.string,playbackId:a.default.string,playerInitTime:a.default.number,preferPlayback:a.default.oneOf(Object.values(n.PlaybackTypes)),type:a.default.oneOf(n.allMediaTypes),streamType:a.default.oneOf(Object.values(n.StreamTypes)),startTime:a.default.number};var W=C;
//# sourceMappingURL=index.cjs.js.map
