import{useEffect as k,useRef as A}from"react";var d=(...r)=>{let o=A(null);return k(()=>{r.forEach(n=>{!n||(typeof n=="function"?n(o.current):n.current=o.current)})},[r]),o};import m,{useEffect as i,useRef as T,useState as R}from"react";import e from"prop-types";import{allMediaTypes as L,initialize as j,StreamTypes as w,PlaybackTypes as H,toMuxVideoURL as M,generatePlayerInitTime as I}from"@mux/playback-core";var S=()=>{try{return"0.6.2"}catch{}return"UNKNOWN"},v=S(),b=()=>v;var V=b(),N="mux-audio-react",P=m.forwardRef((r,o)=>{var y;let{envKey:n,debug:h,beaconCollectionDomain:D,playbackId:s,preferPlayback:K,type:U,streamType:W,startTime:_,src:u,children:x,autoPlay:c,preload:p,...g}=r,[C]=R(I()),[f,E]=R((y=M(s))!=null?y:u),a=T(void 0),O=T(null),l=d(O,o);return i(()=>{var t;E((t=M(s))!=null?t:u)},[u,s]),i(()=>{let t={...r,src:f,playerInitTime:C,playerSoftwareName:N,playerSoftwareVersion:V,autoplay:c};l.current&&(a.current=j(t,l.current,a.current))},[f]),i(()=>{var t;(t=a.current)==null||t.setAutoplay(c)},[c]),i(()=>{var t;(t=a.current)==null||t.setPreload(p)},[p]),m.createElement("audio",{ref:l,...g},x)});P.propTypes={envKey:e.string,debug:e.bool,disableCookies:e.bool,metadata:e.any,beaconCollectionDomain:e.string,playbackId:e.string,playerInitTime:e.number,preferPlayback:e.oneOf(Object.values(H)),type:e.oneOf(L),streamType:e.oneOf(Object.values(w)),startTime:e.number};var $=P;export{$ as default};
//# sourceMappingURL=index.mjs.map
