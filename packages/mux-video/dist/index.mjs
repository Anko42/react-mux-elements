var Ze=Object.defineProperty;var Qe=(i,s,e)=>s in i?Ze(i,s,{enumerable:!0,configurable:!0,writable:!0,value:e}):i[s]=e;var q=(i,s,e)=>(Qe(i,typeof s!="symbol"?s+"":s,e),e),ye=(i,s,e)=>{if(!s.has(i))throw TypeError("Cannot "+e)};var r=(i,s,e)=>(ye(i,s,"read from private field"),e?e.call(i):s.get(i)),c=(i,s,e)=>{if(s.has(i))throw TypeError("Cannot add the same private member more than once");s instanceof WeakSet?s.add(i):s.set(i,e)},l=(i,s,e,n)=>(ye(i,s,"write to private field"),n?n.call(i,e):s.set(i,e),e);var h=(i,s,e)=>(ye(i,s,"access private method"),e);var Y=class{addEventListener(){}removeEventListener(){}dispatchEvent(s){return!0}};if(typeof DocumentFragment=="undefined"){class i extends Y{}globalThis.DocumentFragment=i}var W=class extends Y{},ge=class extends Y{},et={get(i){},define(i,s,e){},upgrade(i){},whenDefined(i){return Promise.resolve(W)}},$,be=class{constructor(s,e={}){c(this,$,void 0);l(this,$,e==null?void 0:e.detail)}get detail(){return r(this,$)}initCustomEvent(){}};$=new WeakMap;function tt(i,s){return new W}var Ue={document:{createElement:tt},DocumentFragment,customElements:et,CustomEvent:be,EventTarget:Y,HTMLElement:W,HTMLVideoElement:ge},Be=typeof window=="undefined"||typeof globalThis.customElements=="undefined",v=Be?Ue:globalThis,Ae=Be?Ue.document:globalThis.document;import{initialize as ot,teardown as ct,generatePlayerInitTime as ut,PlaybackTypes as fe,toMuxVideoURL as lt,MediaError as kt,getError as dt,CmcdTypeValues as Xe}from"@mux/playback-core";var st=()=>{try{return"0.12.0"}catch{}return"UNKNOWN"},rt=st(),Fe=()=>rt;var Te=class extends Set{add(s){super.add(new WeakRef(s))}forEach(s){super.forEach(e=>{let n=e.deref();n&&s(n)})}},it=i=>{var s,e,n,o,f,Ge,p,le,A,C,N,de,x,he,ie,Ke,ae,He,G,Pe,K,g,M,k,R,I,D,z,ne,je,H,Se,oe,Ve,j,ve,ce,qe,V,Ce;return s=class extends i{constructor(){super();c(this,D);c(this,ne);c(this,H);c(this,oe);c(this,j);c(this,ce);c(this,V);q(this,"castEnabled",!1);c(this,K,{paused:!1});c(this,g,void 0);c(this,M,{});c(this,k,void 0);c(this,R,void 0);c(this,I,void 0);s.instances.add(this),h(this,j,ve).call(this)}static get castElement(){return r(s,e)}static get castEnabled(){return r(s,n)}static get castState(){var t;return(t=r(s,A,C))==null?void 0:t.getCastState()}static async exitCast(){try{await r(s,A,C).endCurrentSession(!0)}catch(a){console.error(a);return}}get castPlayer(){if(s.castElement===this)return r(this,g)}attributeChangedCallback(t){if(!!this.castPlayer)switch(t){case"cast-stream-type":case"cast-src":this.load();break}}async requestCast(t={}){var a;h(a=s,G,Pe).call(a,t),l(s,e,this),Object.entries(r(this,M)).forEach(([d,E])=>{r(this,g).controller.addEventListener(d,E)});try{await r(s,A,C).requestSession()}catch{l(s,e,void 0);return}r(this,K).paused=super.paused,super.pause(),this.muted=super.muted;try{await this.load()}catch(d){console.error(d)}}async load(){var S,_;if(!this.castPlayer)return super.load();let t=new chrome.cast.media.MediaInfo(this.castSrc,this.castContentType),a=[...this.querySelectorAll("track")].filter(({kind:T,src:b})=>b&&(T==="subtitles"||T==="captions")),d=[],E=0;a.length&&(t.tracks=a.map(T=>{let b=++E;d.length===0&&T.track.mode==="showing"&&d.push(b);let w=new chrome.cast.media.Track(b,chrome.cast.media.TrackType.TEXT);return w.trackContentId=T.src,w.trackContentType="text/vtt",w.subtype=T.kind==="captions"?chrome.cast.media.TextTrackType.CAPTIONS:chrome.cast.media.TextTrackType.SUBTITLES,w.name=T.label,w.language=T.srclang,w})),this.castStreamType==="live"?t.streamType=chrome.cast.media.StreamType.LIVE:t.streamType=chrome.cast.media.StreamType.BUFFERED,t.metadata=new chrome.cast.media.GenericMediaMetadata,t.metadata.title=this.title,t.metadata.images=[{url:this.poster}];let y=new chrome.cast.media.LoadRequest(t);y.currentTime=(S=super.currentTime)!=null?S:0,y.autoplay=!r(this,K).paused,y.activeTrackIds=d,await((_=r(s,N,de))==null?void 0:_.loadMedia(y)),this.dispatchEvent(new Event("volumechange"))}play(){var t;if(this.castPlayer){this.castPlayer.isPaused&&((t=this.castPlayer.controller)==null||t.playOrPause());return}return super.play()}pause(){var t;if(this.castPlayer){this.castPlayer.isPaused||(t=this.castPlayer.controller)==null||t.playOrPause();return}super.pause()}get castSrc(){var t,a,d;return(d=(a=this.getAttribute("cast-src"))!=null?a:(t=this.querySelector("source"))==null?void 0:t.src)!=null?d:this.currentSrc}set castSrc(t){this.castSrc!=t&&this.setAttribute("cast-src",`${t}`)}get castContentType(){var t;return(t=this.getAttribute("cast-content-type"))!=null?t:void 0}set castContentType(t){this.setAttribute("cast-content-type",`${t}`)}get castStreamType(){var t;return(t=this.getAttribute("cast-stream-type"))!=null?t:void 0}set castStreamType(t){this.setAttribute("cast-stream-type",`${t}`)}get readyState(){if(this.castPlayer)switch(this.castPlayer.playerState){case chrome.cast.media.PlayerState.IDLE:return 0;case chrome.cast.media.PlayerState.BUFFERING:return 2;default:return 3}return super.readyState}get paused(){return this.castPlayer?this.castPlayer.isPaused:super.paused}get muted(){var t;return this.castPlayer?(t=this.castPlayer)==null?void 0:t.isMuted:super.muted}set muted(t){var a;if(this.castPlayer){(t&&!this.castPlayer.isMuted||!t&&this.castPlayer.isMuted)&&((a=this.castPlayer.controller)==null||a.muteOrUnmute());return}super.muted=t}get volume(){var t,a;return this.castPlayer?(a=(t=this.castPlayer)==null?void 0:t.volumeLevel)!=null?a:1:super.volume}set volume(t){var a;if(this.castPlayer){this.castPlayer.volumeLevel=t,(a=this.castPlayer.controller)==null||a.setVolumeLevel();return}super.volume=t}get duration(){var t,a;return this.castPlayer&&r(this,D,z)?(a=(t=this.castPlayer)==null?void 0:t.duration)!=null?a:NaN:super.duration}get currentTime(){var t,a;return this.castPlayer&&r(this,D,z)?(a=(t=this.castPlayer)==null?void 0:t.currentTime)!=null?a:0:super.currentTime}set currentTime(t){var a;if(this.castPlayer){this.castPlayer.currentTime=t,(a=this.castPlayer.controller)==null||a.seek();return}super.currentTime=t}get onentercast(){return r(this,k)}set onentercast(t){r(this,k)&&(this.removeEventListener("entercast",r(this,k)),l(this,k,null)),typeof t=="function"&&(l(this,k,t),this.addEventListener("entercast",t))}get onleavecast(){return r(this,R)}set onleavecast(t){r(this,R)&&(this.removeEventListener("leavecast",r(this,R)),l(this,R,null)),typeof t=="function"&&(l(this,R,t),this.addEventListener("leavecast",t))}get oncastchange(){return r(this,I)}set oncastchange(t){r(this,I)&&(this.removeEventListener("castchange",r(this,I)),l(this,I,null)),typeof t=="function"&&(l(this,I,t),this.addEventListener("castchange",t))}},e=new WeakMap,n=new WeakMap,o=new WeakMap,f=new WeakSet,Ge=function(){return typeof chrome!="undefined"&&chrome.cast&&chrome.cast.isAvailable},p=new WeakSet,le=function(){return typeof cast!="undefined"&&cast.framework},A=new WeakSet,C=function(){if(r(s,p,le))return cast.framework.CastContext.getInstance()},N=new WeakSet,de=function(){var t;return(t=r(s,A,C))==null?void 0:t.getCurrentSession()},x=new WeakSet,he=function(){var t;return(t=r(s,N,de))==null?void 0:t.getSessionObj().media[0]},ie=new WeakSet,Ke=function(t){return new Promise((a,d)=>{r(s,x,he).editTracksInfo(t,a,d)})},ae=new WeakSet,He=function(t){return new Promise((a,d)=>{r(s,x,he).getStatus(t,a,d)})},G=new WeakSet,Pe=function(t){return r(s,A,C).setOptions({receiverApplicationId:chrome.cast.media.DEFAULT_MEDIA_RECEIVER_APP_ID,autoJoinPolicy:chrome.cast.AutoJoinPolicy.ORIGIN_SCOPED,androidReceiverCompatible:!1,language:"en-US",resumeSavedSession:!0,...t})},K=new WeakMap,g=new WeakMap,M=new WeakMap,k=new WeakMap,R=new WeakMap,I=new WeakMap,D=new WeakSet,z=function(){var t;return(t=this.castPlayer)==null?void 0:t.isMediaLoaded},ne=new WeakSet,je=function(){r(s,e)===this&&(Object.entries(r(this,M)).forEach(([t,a])=>{r(this,g).controller.removeEventListener(t,a)}),l(s,e,void 0),this.muted=r(this,g).isMuted,this.currentTime=r(this,g).savedPlayerState.currentTime,r(this,g).savedPlayerState.isPaused===!1&&this.play())},H=new WeakSet,Se=function(){this.dispatchEvent(new CustomEvent("castchange",{detail:r(s,A,C).getCastState()}))},oe=new WeakSet,Ve=async function(){var a,d;let{SESSION_RESUMED:t}=cast.framework.SessionState;if(r(s,A,C).getSessionState()===t&&this.castSrc===((a=r(s,x,he))==null?void 0:a.media.contentId)){l(s,e,this),Object.entries(r(this,M)).forEach(([E,y])=>{r(this,g).controller.addEventListener(E,y)});try{await h(d=s,ae,He).call(d,new chrome.cast.media.GetStatusRequest)}catch(E){console.error(E)}r(this,M)[cast.framework.RemotePlayerEventType.IS_PAUSED_CHANGED](),r(this,M)[cast.framework.RemotePlayerEventType.PLAYER_STATE_CHANGED]()}},j=new WeakSet,ve=function(){var t;!r(s,p,le)||this.castEnabled||(this.castEnabled=!0,h(t=s,G,Pe).call(t),this.textTracks.addEventListener("change",h(this,V,Ce).bind(this)),h(this,H,Se).call(this),l(this,g,new cast.framework.RemotePlayer),new cast.framework.RemotePlayerController(r(this,g)),l(this,M,{[cast.framework.RemotePlayerEventType.IS_CONNECTED_CHANGED]:({value:a})=>{a===!1&&h(this,ne,je).call(this),this.dispatchEvent(new Event(a?"entercast":"leavecast"))},[cast.framework.RemotePlayerEventType.DURATION_CHANGED]:()=>{this.dispatchEvent(new Event("durationchange"))},[cast.framework.RemotePlayerEventType.VOLUME_LEVEL_CHANGED]:()=>{this.dispatchEvent(new Event("volumechange"))},[cast.framework.RemotePlayerEventType.IS_MUTED_CHANGED]:()=>{this.dispatchEvent(new Event("volumechange"))},[cast.framework.RemotePlayerEventType.CURRENT_TIME_CHANGED]:()=>{!r(this,D,z)||this.dispatchEvent(new Event("timeupdate"))},[cast.framework.RemotePlayerEventType.VIDEO_INFO_CHANGED]:()=>{this.dispatchEvent(new Event("resize"))},[cast.framework.RemotePlayerEventType.IS_PAUSED_CHANGED]:()=>{this.dispatchEvent(new Event(this.paused?"pause":"play"))},[cast.framework.RemotePlayerEventType.PLAYER_STATE_CHANGED]:()=>{var a,d;((a=this.castPlayer)==null?void 0:a.playerState)!==chrome.cast.media.PlayerState.PAUSED&&this.dispatchEvent(new Event({[chrome.cast.media.PlayerState.PLAYING]:"playing",[chrome.cast.media.PlayerState.BUFFERING]:"waiting",[chrome.cast.media.PlayerState.IDLE]:"emptied"}[(d=this.castPlayer)==null?void 0:d.playerState]))},[cast.framework.RemotePlayerEventType.IS_MEDIA_LOADED_CHANGED]:async()=>{!r(this,D,z)||(await Promise.resolve(),h(this,ce,qe).call(this))}}))},ce=new WeakSet,qe=function(){h(this,V,Ce).call(this)},V=new WeakSet,Ce=async function(){var Re,Ie,Le,De,_e,we;if(!this.castPlayer)return;let a=((Ie=(Re=r(this,g).mediaInfo)==null?void 0:Re.tracks)!=null?Ie:[]).filter(({type:m})=>m===chrome.cast.media.TrackType.TEXT),d=[...this.textTracks].filter(({kind:m})=>m==="subtitles"||m==="captions"),E=a.map(({language:m,name:ue,trackId:Ee})=>{var xe;let{mode:Ne}=(xe=d.find(Ye=>Ye.language===m&&Ye.label===ue))!=null?xe:{};return Ne?{mode:Ne,trackId:Ee}:!1}).filter(Boolean),S=E.filter(({mode:m})=>m!=="showing").map(({trackId:m})=>m),_=E.find(({mode:m})=>m==="showing"),T=(_e=(De=(Le=r(s,N,de))==null?void 0:Le.getSessionObj().media[0])==null?void 0:De.activeTrackIds)!=null?_e:[],b=T;if(T.length&&(b=b.filter(m=>!S.includes(m))),_!=null&&_.trackId&&(b=[...b,_.trackId]),b=[...new Set(b)],!((m,ue)=>m.length===ue.length&&m.every(Ee=>ue.includes(Ee)))(T,b))try{let m=new chrome.cast.media.EditTracksInfoRequest(b);await h(we=s,ie,Ke).call(we,m)}catch(m){console.error(m)}},c(s,f),c(s,p),c(s,A),c(s,N),c(s,x),c(s,ie),c(s,ae),c(s,G),q(s,"observedAttributes",["cast-src","cast-content-type","cast-stream-type"]),q(s,"instances",new Te),c(s,e,void 0),c(s,n,!1),q(s,"initCast",()=>{var t;r(s,f,Ge)?r(s,p,le)?r(t=s,o).call(t,chrome.cast.isAvailable):customElements.whenDefined("google-cast-button").then(()=>{var a;return r(a=s,o).call(a,chrome.cast.isAvailable)}):globalThis.__onGCastApiAvailable=()=>{customElements.whenDefined("google-cast-button").then(()=>{var a;return r(a=s,o).call(a,chrome.cast.isAvailable)})}}),c(s,o,t=>{if(t){l(s,n,!0);let{CAST_STATE_CHANGED:a}=cast.framework.CastContextEventType;r(s,A,C).addEventListener(a,E=>{s.instances.forEach(y=>{var S;return h(S=y,H,Se).call(S,E)})});let{SESSION_STATE_CHANGED:d}=cast.framework.CastContextEventType;r(s,A,C).addEventListener(d,E=>{s.instances.forEach(y=>{var S;return h(S=y,oe,Ve).call(S,E)})}),s.instances.forEach(E=>{var y;return h(y=E,j,ve).call(y)})}}),s};if(globalThis.HTMLVideoElement&&globalThis.customElements){let i=it(HTMLVideoElement);globalThis.customElements.get("castable-video")||(globalThis.customElements.define("castable-video",i,{extends:"video"}),globalThis.CastableVideoElement=i),i.initCast()}var We=["abort","canplay","canplaythrough","durationchange","emptied","encrypted","ended","error","loadeddata","loadedmetadata","loadstart","pause","play","playing","progress","ratechange","seeked","seeking","stalled","suspend","timeupdate","volumechange","waiting","waitingforkey","resize","enterpictureinpicture","leavepictureinpicture","castchange","entercast","leavecast"],$e=Ae.createElement("template");$e.innerHTML=`
<style>
  :host {
    display: inline-block;
    line-height: 0;
    width: auto;
    height: auto;
  }

  video {
    max-width: 100%;
    max-height: 100%;
    min-width: 100%;
    min-height: 100%;
    object-fit: var(--media-object-fit, contain);
    object-position: var(--media-object-position, 50% 50%);
  }
</style>
<video is="castable-video" part="video" crossorigin></video>
<slot></slot>
`;var J,U,me,X,Oe,L=class extends v.HTMLElement{constructor(){super();c(this,U);c(this,X);c(this,J,void 0);this.attachShadow({mode:"open"}),this.isConnected&&h(this,U,me).call(this)}static get observedAttributes(){let e=[],n=f=>f.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();Object.getOwnPropertyNames(this.prototype).forEach(f=>{let P=!1;try{typeof this.prototype[f]=="function"&&(P=!0)}catch{}!P&&f!==f.toUpperCase()&&e.push(f.toLowerCase(),n(f))});let o=Object.getPrototypeOf(this).observedAttributes;return o&&(e=e.concat(o)),e}attributeChangedCallback(e,n,o){h(this,U,me).call(this),h(this,X,Oe).call(this,e,n,o)}connectedCallback(){h(this,U,me).call(this)}};J=new WeakMap,U=new WeakSet,me=function(){if(r(this,J))return;l(this,J,!0),this.shadowRoot.append($e.content.cloneNode(!0)),this.nativeEl=this.shadowRoot.querySelector("video"),We.forEach(n=>{this.nativeEl.addEventListener(n,o=>{this.dispatchEvent(new CustomEvent(o.type,{detail:o.detail}))})});let e=this.shadowRoot.querySelector("slot");e.addEventListener("slotchange",()=>{e.assignedElements().forEach(n=>{!["track","source"].includes(n.localName)||this.nativeEl.append(n)})}),Array.prototype.forEach.call(this.attributes,n=>{h(this,X,Oe).call(this,n.name,null,n.value)}),this.nativeEl.defaultMuted&&(this.nativeEl.muted=!0)},X=new WeakSet,Oe=function(e,n,o){let f=Object.getOwnPropertyNames(Object.getPrototypeOf(this)),P=nt(f,e),p=Object.getPrototypeOf(this.constructor).toString().indexOf("function HTMLElement")===0;P&&!p?typeof this[P]=="boolean"?o===null?this[P]=!1:this[P]=!0:this[P]=o:o===null?this.nativeEl.removeAttribute(e):["id","class"].indexOf(e)===-1&&this.nativeEl.setAttribute(e,o)};var ze=[],Je=Ae.createElement("video",{is:"castable-video"}),at=["webkitDisplayingFullscreen","webkitSupportsFullscreen"];for(let i=Object.getPrototypeOf(Je);i&&i!==v.HTMLElement.prototype;i=Object.getPrototypeOf(i))Object.getOwnPropertyNames(i).forEach(s=>{at.indexOf(s)===-1&&ze.push(s)});ze.forEach(i=>{if(i in L.prototype)return;if(typeof Je[i]=="function")L.prototype[i]=function(){return this.nativeEl[i].apply(this.nativeEl,arguments)};else{let e={get(){return this.nativeEl[i]}};i!==i.toUpperCase()&&(e.set=function(n){this.nativeEl[i]=n}),Object.defineProperty(L.prototype,i,e)}});function nt(i,s){let e=null;return i.forEach(n=>{n.toLowerCase()==s.toLowerCase()&&(e=n)}),e}v.customElements.get("custom-video")||(v.customElements.define("custom-video",L),v.CustomVideoElement=L);var Me=L;var u={ENV_KEY:"env-key",DEBUG:"debug",PLAYBACK_ID:"playback-id",METADATA_URL:"metadata-url",PREFER_PLAYBACK:"prefer-playback",PLAYER_SOFTWARE_VERSION:"player-software-version",PLAYER_SOFTWARE_NAME:"player-software-name",BEACON_COLLECTION_DOMAIN:"beacon-collection-domain",CUSTOM_DOMAIN:"custom-domain",DISABLE_COOKIES:"disable-cookies",TYPE:"type",STREAM_TYPE:"stream-type",START_TIME:"start-time",PREFER_CMCD:"prefer-cmcd"},ht=Object.values(u),mt=Fe(),ft="mux-video",O,B,Q,F,ee,te,se,re,ke,Z=class extends Me{constructor(){super();c(this,re);c(this,O,void 0);c(this,B,void 0);c(this,Q,void 0);c(this,F,{});c(this,ee,void 0);c(this,te,void 0);c(this,se,void 0);l(this,Q,ut())}static get observedAttributes(){var e;return[...ht,...(e=Me.observedAttributes)!=null?e:[]]}get preferCmcd(){var e;return(e=this.getAttribute(u.PREFER_CMCD))!=null?e:void 0}set preferCmcd(e){e!==this.preferCmcd&&(e?Xe.includes(e)?this.setAttribute(u.PREFER_CMCD,e):console.warn(`Invalid value for preferCmcd. Must be one of ${Xe.join()}`):this.removeAttribute(u.PREFER_CMCD))}get playerInitTime(){return r(this,Q)}get playerSoftwareName(){var e;return(e=r(this,te))!=null?e:ft}set playerSoftwareName(e){l(this,te,e)}get playerSoftwareVersion(){var e;return(e=r(this,ee))!=null?e:mt}set playerSoftwareVersion(e){l(this,ee,e)}get _hls(){var e;return(e=r(this,O))==null?void 0:e.engine}get mux(){return this.nativeEl.mux}get error(){var e;return(e=dt(this.nativeEl))!=null?e:null}get errorTranslator(){return r(this,se)}set errorTranslator(e){l(this,se,e)}get src(){return this.getAttribute("src")}set src(e){e!==this.src&&(e==null?this.removeAttribute("src"):this.setAttribute("src",e))}get type(){var e;return(e=this.getAttribute(u.TYPE))!=null?e:void 0}set type(e){e!==this.type&&(e?this.setAttribute(u.TYPE,e):this.removeAttribute(u.TYPE))}get autoplay(){let e=this.getAttribute("autoplay");return e===null?!1:e===""?!0:e}set autoplay(e){let n=this.autoplay;e!==n&&(e?this.setAttribute("autoplay",typeof e=="string"?e:""):this.removeAttribute("autoplay"))}get preload(){let e=this.getAttribute("preload");return e===""?"auto":["none","metadata","auto"].includes(e)?e:super.preload}set preload(e){e!=this.getAttribute("preload")&&(["","none","metadata","auto"].includes(e)?this.setAttribute("preload",e):this.removeAttribute("preload"))}get debug(){return this.getAttribute(u.DEBUG)!=null}set debug(e){e!==this.debug&&(e?this.setAttribute(u.DEBUG,""):this.removeAttribute(u.DEBUG))}get disableCookies(){return this.hasAttribute(u.DISABLE_COOKIES)}set disableCookies(e){e!==this.disableCookies&&(e?this.setAttribute(u.DISABLE_COOKIES,""):this.removeAttribute(u.DISABLE_COOKIES))}get startTime(){let e=this.getAttribute(u.START_TIME);if(e==null)return;let n=+e;return Number.isNaN(n)?void 0:n}set startTime(e){e!==this.startTime&&(e==null?this.removeAttribute(u.START_TIME):this.setAttribute(u.START_TIME,`${e}`))}get playbackId(){var e;return(e=this.getAttribute(u.PLAYBACK_ID))!=null?e:void 0}set playbackId(e){e!==this.playbackId&&(e?this.setAttribute(u.PLAYBACK_ID,e):this.removeAttribute(u.PLAYBACK_ID))}get customDomain(){var e;return(e=this.getAttribute(u.CUSTOM_DOMAIN))!=null?e:void 0}set customDomain(e){e!==this.customDomain&&(e?this.setAttribute(u.CUSTOM_DOMAIN,e):this.removeAttribute(u.CUSTOM_DOMAIN))}get envKey(){var e;return(e=this.getAttribute(u.ENV_KEY))!=null?e:void 0}set envKey(e){e!==this.envKey&&(e?this.setAttribute(u.ENV_KEY,e):this.removeAttribute(u.ENV_KEY))}get beaconCollectionDomain(){var e;return(e=this.getAttribute(u.BEACON_COLLECTION_DOMAIN))!=null?e:void 0}set beaconCollectionDomain(e){e!==this.beaconCollectionDomain&&(e?this.setAttribute(u.BEACON_COLLECTION_DOMAIN,e):this.removeAttribute(u.BEACON_COLLECTION_DOMAIN))}get streamType(){var e;return(e=this.getAttribute(u.STREAM_TYPE))!=null?e:void 0}set streamType(e){e!==this.streamType&&(e?this.setAttribute(u.STREAM_TYPE,e):this.removeAttribute(u.STREAM_TYPE))}get preferPlayback(){let e=this.getAttribute(u.PREFER_PLAYBACK);if(e===fe.MSE||e===fe.NATIVE)return e}set preferPlayback(e){e!==this.preferPlayback&&(e===fe.MSE||e===fe.NATIVE?this.setAttribute(u.PREFER_PLAYBACK,e):this.removeAttribute(u.PREFER_PLAYBACK))}get metadata(){return{...this.getAttributeNames().filter(n=>n.startsWith("metadata-")&&![u.METADATA_URL].includes(n)).reduce((n,o)=>{let f=this.getAttribute(o);return f!=null&&(n[o.replace(/^metadata-/,"").replace(/-/g,"_")]=f),n},{}),...r(this,F)}}set metadata(e){l(this,F,e!=null?e:{}),this.mux&&this.mux.emit("hb",r(this,F))}load(){l(this,O,ot(this,this.nativeEl,r(this,O)))}unload(){ct(this.nativeEl,r(this,O)),l(this,O,void 0)}attributeChangedCallback(e,n,o){var f,P;switch(super.attributeChangedCallback(e,n,o),e){case u.PLAYER_SOFTWARE_NAME:this.playerSoftwareName=o!=null?o:void 0;break;case u.PLAYER_SOFTWARE_VERSION:this.playerSoftwareVersion=o!=null?o:void 0;break;case"src":{let p=!!n,pe=!!o;!p&&pe?h(this,re,ke).call(this):p&&!pe?this.unload():p&&pe&&(this.unload(),h(this,re,ke).call(this));break}case"autoplay":if(o===n)break;(f=r(this,O))==null||f.setAutoplay(this.autoplay);break;case"preload":if(o===n)break;(P=r(this,O))==null||P.setPreload(o);break;case u.PLAYBACK_ID:this.src=lt(o!=null?o:void 0,{domain:this.customDomain});break;case u.DEBUG:{let p=this.debug;this.mux&&console.info("Cannot toggle debug mode of mux data after initialization. Make sure you set all metadata to override before setting the src."),this._hls&&(this._hls.config.debug=p);break}case u.METADATA_URL:o&&fetch(o).then(p=>p.json()).then(p=>this.metadata=p).catch(p=>console.error(`Unable to load or parse metadata JSON from metadata-url ${o}!`));break;default:break}}disconnectedCallback(){this.unload()}};O=new WeakMap,B=new WeakMap,Q=new WeakMap,F=new WeakMap,ee=new WeakMap,te=new WeakMap,se=new WeakMap,re=new WeakSet,ke=async function(){r(this,B)||(await l(this,B,Promise.resolve()),l(this,B,null),this.load())};v.customElements.get("mux-video")||(v.customElements.define("mux-video",Z),v.MuxVideoElement=Z);var Dt=Z;export{u as Attributes,kt as MediaError,We as VideoEvents,Dt as default};
//# sourceMappingURL=index.mjs.map
